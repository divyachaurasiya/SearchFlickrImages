(this.webpackJsonpsearchimage=this.webpackJsonpsearchimage||[]).push([[0],{26:function(e,t,a){e.exports=a(58)},40:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(8),r=a.n(s),i=a(9),o=a(3),l=a(24),u=a.n(l),m=a(4),g=a(5),h=a(7),p=a(6),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).onFormSubmit=function(t){t.preventDefault(),e.props.searchImages(e.input.value,1)},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"ui segment"},c.a.createElement("form",{onSubmit:this.onFormSubmit,className:"ui form"},c.a.createElement("h3",null,"Search image"),c.a.createElement("div",{className:"ui grid"},c.a.createElement("div",{className:"fourteen wide column"},c.a.createElement("input",{type:"text",name:"image-search",ref:function(t){e.input=t},required:!0})),c.a.createElement("div",{className:"two wide column"},c.a.createElement("button",{className:"ui orange button"},"Search")))))}}]),a}(c.a.Component),d=(a(40),function(e){return c.a.createElement("div",{className:"ui buttons"},e.page>1?c.a.createElement("button",{onClick:function(){e.setResultsPage(e.page-1),e.searchImages(e.keyToSearch,e.page-1)},className:"ui black labeled icon button"},c.a.createElement("i",{className:"left chevron icon"}),"Prev"):c.a.createElement("span",null),c.a.createElement("button",{className:"ui grey button"},e.page),e.page<e.totalPage?c.a.createElement("button",{onClick:function(){e.setResultsPage(e.page+1),e.searchImages(e.keyToSearch,e.page+1)},className:"ui black right labeled icon button"},"Next",c.a.createElement("i",{className:"right chevron icon"})):c.a.createElement("span",null))}),E=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setSpan=function(){var e=n.imageRef.current.clientHeight,t=Math.ceil(e/10)+1;n.setState({spans:t})},n.state={spans:0},n.imageRef=c.a.createRef(),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.imageRef.current.addEventListener("load",this.setSpan)}},{key:"render",value:function(){var e=this.props.image,t=e.id,a=e.farm,n=e.secret,s=e.server,r=e.title;return c.a.createElement("div",{style:{gridRowEnd:"span ".concat(this.state.spans)}},c.a.createElement("img",{ref:this.imageRef,src:"https://farm".concat(a,".staticflickr.com/").concat(s,"/").concat(t,"_").concat(n,".jpg"),alt:r}))}}]),a}(c.a.Component),b=function(e){var t=e.imagesData,a=t.images.map((function(e){return c.a.createElement(E,{key:e.id,image:e})}));return t.fetched?t.images.length>0?c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"image-list"},a),c.a.createElement("div",{className:"ui center aligned container"},c.a.createElement(d,{totalPage:t.totalPage,page:t.resultsPage,keyToSearch:t.imageToSearch,searchImages:e.searchImages,setResultsPage:e.setResultsPage}))):c.a.createElement("h2",null,"No result found!"):null},v=a(25),S=a.n(v),j="https://www.flickr.com/services/rest/",P="1b324005456edd10cd2da954ef6c5c78",y=function(e,t,a,n){S.a.get(j,{params:{method:"flickr.photos.search",api_key:P,tags:e,format:"json",page:t,per_page:50,nojsoncallback:1}}).then((function(t){a(t.data.photos,e)})).catch((function(e){n(e)}))},O=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).setResultsPage=function(t){e.props.setResultsPage(t)},e.searchImages=function(t,a){e.props.setResultsPage(a),y(t,a,e.props.fetchImageSuccess,e.props.fetchImageFail)},e}return Object(g.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui container",style:{marginTop:"15px",marginBottom:"15px"}},c.a.createElement(f,{page:this.setResultsPage,searchImages:this.searchImages}),c.a.createElement(b,{imagesData:this.props.data,searchImages:this.searchImages,setResultsPage:this.props.setResultsPage}))}}]),a}(c.a.Component),R=Object(i.b)((function(e){return{data:e.images}}),{fetchImageSuccess:function(e,t){return{type:"SEARCH_IMAGE_SUCCESS",images:e.photo,totalPage:e.pages,keyToSearch:t}},fetchImageFail:function(e){return{type:"SEARCH_IMAGE_FAIL",error:e}},setResultsPage:function(e){return{type:"SET_RESULTS_PAGE",resultsPage:e}}})(O),k=a(2),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{images:[],resultsPage:1,totalPage:1,fetched:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_IMAGE_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{images:t.images,totalPage:t.totalPage,imageToSearch:t.keyToSearch,fetched:!0});case"SEARCH_IMAGE_FAIL":return Object(k.a)(Object(k.a)({},e),{},{images:{},fetched:!0});case"SET_RESULTS_PAGE":return Object(k.a)(Object(k.a)({},e),{},{resultsPage:t.resultsPage});default:return Object(k.a)({},e)}},N=Object(o.c)({images:I}),_=Object(o.d)(N,Object(o.a)(u.a));r.a.render(c.a.createElement(i.a,{store:_},c.a.createElement(R,null)),document.querySelector("#root"))}},[[26,1,2]]]);